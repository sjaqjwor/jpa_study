## 연관관계

#### 테이블 연관관계

- 외래 키가 있는곳이 N이라고 보면 된다(기본)

- jpa를 쓴다면 당연히 테이블 구조를 가지고 객체를 만들면 안된다
  - Ex 객체간 참조관계를 절대 ID가 아닌 엔티티 자체로 설계를 해야한다

##### 객체간 양방향 관계가 아니라 사실 서로다른 단방향 2개이다.

## 연관관계 주인

- 주인만 외래키를 관리
- 주인이 아닌곳은 읽기만 가능
  - 즉 값변경 업데이트는 되지 않는다.
  - 양방향 관계에서 업데이트가 되어야 할때는 mappedBy보지도 않음
- 주인은 mappedBy를 사용하지 말아야하며 주인이 아닌쪽에서 사용
- 쉽게 주인을 설정하는 방법은 외래키가 있는 애를 주인으로 정해라 즉 디비 N쪽이 연관관계 주인이 된다고 생각해라
- 양방향관계시 둘다 서로에게 주입해주는게 좋다
  - 그 이유는 수수 객체를 위해 해주는게 좋다
  -  1차캐시에서 불러올때 둘다 세팅을 해주지 않으면 결국 세팅안해준 엔티티에서 불러올때 다른 엔티티값이 안들어있음..
  - 연관관계 편의 메소드를 사용하는것도 좋은 방법

